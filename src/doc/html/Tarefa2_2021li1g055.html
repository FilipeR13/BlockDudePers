<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa2_2021li1g055</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Lucas Quintela &lt;a100642@alunos.uminho.pt&gt;;<br />: Jos&#233; Rodrigues &lt;a100692@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa2_2021li1g055</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 2 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:constroiMapa">constroiMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:constroilinhas">constroilinhas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; Int -&gt; Int -&gt; [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]]</li><li class="src short"><a href="#v:filtralinhas">filtralinhas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:constroilinha">constroilinha</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; Int -&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]</li><li class="src short"><a href="#v:ordenalinha">ordenalinha</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:insere">insere</a> :: (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:xmax">xmax</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int</li><li class="src short"><a href="#v:ymax">ymax</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int</li><li class="src short"><a href="#v:desconstroiMapa">desconstroiMapa</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:desconstroilinhas">desconstroilinhas</a> :: [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:desconstroilinha">desconstroilinha</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; Int -&gt; Int -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, (Int, Int))]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:constroiMapa" class="def">constroiMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> <a href="#v:constroiMapa" class="selflink">#</a></p><div class="doc"><h2>Constr&#243;i Mapa</h2><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g055.html#v:constroiMapa" title="Tarefa2_2021li1g055">constroiMapa</a></code> &#233; a fun&#231;&#227;o principal que d&#225; os argumentos necess&#225;rios para que a fun&#231;&#227;o <code><a href="Tarefa2_2021li1g055.html#v:constroilinhas" title="Tarefa2_2021li1g055">constroilinhas</a></code> possa funcionar. Esta d&#225; a lista de pe&#231;as; um acumulador, come&#231;ado em 0, que &#233; o 
n&#250;mero da linha; o x maximo do Mapa; o y m&#225;ximo do mapa.</p></div></div><div class="top"><p class="src"><a id="v:constroilinhas" class="def">constroilinhas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; Int -&gt; Int -&gt; [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] <a href="#v:constroilinhas" class="selflink">#</a></p><div class="doc"><ul><li>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g055.html#v:constroilinhas" title="Tarefa2_2021li1g055">constroilinhas</a></code>  verifica se a fun&#231;&#227;o se encontra na linha m&#225;xima atrav&#233;s do acumulador. Se n&#227;o se encontrar na linha m&#225;xima, ent&#227;o vai construir a linha em que se encontra com 
recurso &#224; fun&#231;&#227;o <code><a href="Tarefa2_2021li1g055.html#v:constroilinha" title="Tarefa2_2021li1g055">constroilinha</a></code> que recebe a lista s&#243; com as pe&#231;as, ordenadas com recurso &#224; fun&#231;&#227;o <code><a href="Tarefa2_2021li1g055.html#v:ordenalinha" title="Tarefa2_2021li1g055">ordenalinha</a></code>, pertencentes a essa linha que prov&#233;m da fun&#231;&#227;o <code><a href="Tarefa2_2021li1g055.html#v:filtralinhas" title="Tarefa2_2021li1g055">filtralinhas</a></code>;</li></ul></div></div><div class="top"><p class="src"><a id="v:filtralinhas" class="def">filtralinhas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:filtralinhas" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g055.html#v:filtralinhas" title="Tarefa2_2021li1g055">filtralinhas</a></code> recebe o mapa e o n&#250;mero da linha que se quer filtrar. Assim, a fun&#231;&#227;o percorre a lista das pe&#231;as comparando a ordenada com o n&#250;mero da linha
pretendida e vai selecionando-as.</p></div></div><div class="top"><p class="src"><a id="v:constroilinha" class="def">constroilinha</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; Int -&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] <a href="#v:constroilinha" class="selflink">#</a></p><div class="doc"><ul><li><code><a href="Tarefa2_2021li1g055.html#v:constroilinha" title="Tarefa2_2021li1g055">constroilinha</a></code> &#233; a fun&#231;&#227;o que vai comparando a posi&#231;&#227;o em que est&#225; com recurso a um acumulador (posi&#231;&#227;o na coluna). A fun&#231;&#227;o vai comparando as coordenadas das pe&#231;as com o acumulador e com o x m&#225;ximo
do mapa. Se as estiverem na mesma posi&#231;&#227;o e se esta n&#227;o for igual ao x m&#225;ximo, ent&#227;o ir&#225; colocar a pe&#231;a correspondente. Se as coordenadas n&#227;o forem iguais ent&#227;o esta vai por colocar um Vazio. O
caso de paragem desta fun&#231;&#227;o &#233; dividido em dois casos: se receber uma lista vazia mas o acumulador ainda n&#227;o for igual ao x m&#225;ximo, ent&#227;o ainda vai colocar um Vazio e voltar a chamar a fun&#231;&#227;o; se 
o acumulador j&#225; for igual ao x m&#225;ximo ent&#227;o a fun&#231;&#227;o vai colocar o &#250;ltimo vazio.</li></ul></div></div><div class="top"><p class="src"><a id="v:ordenalinha" class="def">ordenalinha</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:ordenalinha" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g055.html#v:ordenalinha" title="Tarefa2_2021li1g055">ordenalinha</a></code> apenas ir&#225; receber uma lista com pe&#231;as que t&#234;m a mesma ordenada, logo apenas precisa comparar a primeira componente das coordenadas. Para conseguir ordenar a fun&#231;&#227;o utiliza
a fun&#231;&#227;o auxiliar <code><a href="Tarefa2_2021li1g055.html#v:insere" title="Tarefa2_2021li1g055">insere</a></code> que vai inserindo as pe&#231;as comparando as abcissas das mesmas.</p></div></div><div class="top"><p class="src"><a id="v:insere" class="def">insere</a> :: (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:insere" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:xmax" class="def">xmax</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int <a href="#v:xmax" class="selflink">#</a></p><div class="doc"><h3>Tamanho do Mapa</h3><p>As fun&#231;&#245;es <code><a href="Tarefa2_2021li1g055.html#v:xmax" title="Tarefa2_2021li1g055">xmax</a></code> e <code><a href="Tarefa2_2021li1g055.html#v:ymax" title="Tarefa2_2021li1g055">ymax</a></code> servem para calcular o tamanho do mapa todo, dando a abcissa m&#225;xima e a ordenada m&#225;xima, respetivamente</p><p>Consideremos o mapa m1:
<code>
  [ (Porta, (0, 3)),
    (Bloco, (0, 4)),
    (Bloco, (1, 4)),
    (Bloco, (2, 4)),
    (Bloco, (3, 4)),
    (Bloco, (4, 4)),
    (Caixa, (4, 3)),
    (Bloco, (5, 4)),
    (Bloco, (6, 4)),
    (Bloco, (6, 3)),
    (Bloco, (6, 2)),
    (Bloco, (6, 1))
  ]
</code></p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>xmax m1
</code></strong>6
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ymax m1
</code></strong>4
</pre></div></div><div class="top"><p class="src"><a id="v:ymax" class="def">ymax</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int <a href="#v:ymax" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:desconstroiMapa" class="def">desconstroiMapa</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:desconstroiMapa" class="selflink">#</a></p><div class="doc"><h2>Desconstroi Mapa</h2><p>A fun&#231;&#227;o <code>descontroiMapa</code> &#233; a fun&#231;&#227;o principal que tem como objetivo transformar um mapa (uma lista de pe&#231;as) numa lista de pecas e coordenadas. Para isso, vai precisar da fun&#231;&#227;o auxiliar 
<code><a href="Tarefa2_2021li1g055.html#v:desconstroilinhas" title="Tarefa2_2021li1g055">desconstroilinhas</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:desconstroilinhas" class="def">desconstroilinhas</a> :: [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:desconstroilinhas" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Tarefa2_2021li1g055.html#v:desconstroilinhas" title="Tarefa2_2021li1g055">desconstroilinhas</a></code> vai receber uma lista de listas de pe&#231;as, isto &#233;, uma lista com as v&#225;rias linhas do mapa representadas em listas de pe&#231;as. Vai receber tamb&#233;m um acumulador vindo da 
fun&#231;&#227;o principal que vai ditar o n&#250;mero da linha a &quot;desconstruir&quot;, que come&#231;a em 0. Para isso, vai chamar a fun&#231;&#227;o <code><a href="Tarefa2_2021li1g055.html#v:desconstroilinha" title="Tarefa2_2021li1g055">desconstroilinha</a></code> para a cabe&#231;a da fun&#231;&#227;o fornecendo um acumulador novo
come&#231;ando em 0 que representa a abcissa das pe&#231;as (o n&#250;mero de colunas), o acumulador vindo da fun&#231;&#227;o principal e ainda o tamanho da lista das pe&#231;as menos 1, para determinar a abcissa 
m&#225;xima que uma pe&#231;a poder&#225; ter.     </p></div></div><div class="top"><p class="src"><a id="v:desconstroilinha" class="def">desconstroilinha</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; Int -&gt; Int -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, (Int, Int))] <a href="#v:desconstroilinha" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Tarefa2_2021li1g055.html#v:desconstroilinha" title="Tarefa2_2021li1g055">desconstroilinha</a></code> recebe uma lista de pe&#231;as (uma linha), um acumulador x que dita o n&#250;mero da coluna e que vem da fun&#231;&#227;o <code>desconstroilihas</code>, um y que &#233; o n&#250;mero da 
linha e que vem da fun&#231;&#227;o principal e um n&#250;mero xm que &#233; o comprimento da linha menos 1. Vai transformar a linha numa lista de pe&#231;as e as suas respetivas coordenadas.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>