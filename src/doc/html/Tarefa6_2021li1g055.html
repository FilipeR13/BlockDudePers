<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa6_2021li1g055</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Lucas Quintela &lt;a100642@alunos.uminho.pt&gt;;<br />: Jos&#233; Rodrigues &lt;a100692@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa6_2021li1g055</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 6 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:resolveJogo">resolveJogo</a> :: Int -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</li><li class="src short"><a href="#v:resolveJogoA">resolveJogoA</a> :: Int -&gt; [([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)] -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</li><li class="src short"><a href="#v:corremovimentos">corremovimentos</a> :: [([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)] -&gt; [([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)]</li><li class="src short"><a href="#v:corremovimentosA">corremovimentosA</a> :: ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>) -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; [([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)]</li><li class="src short"><a href="#v:verificamovimentos">verificamovimentos</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:resolveJogo" class="def">resolveJogo</a> :: Int -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] <a href="#v:resolveJogo" class="selflink">#</a></p><div class="doc"><h2>Dificuldades sentidas</h2><p>Dificuldades sentidas ao longo desta tarefa:</p><ul><li>Tivemos dificuldade em trabalhar com v&#225;rias listas ao mesmo tempo, nomeademente listas de listas de pares.</li><li>Dificuldade em interligar fun&#231;&#245;es auxiliares</li></ul><h2>Fun&#231;&#227;o Principal</h2><p>A fun&#231;&#227;o <code><a href="Tarefa6_2021li1g055.html#v:resolveJogo" title="Tarefa6_2021li1g055">resolveJogo</a></code> &#233; a fun&#231;&#227;o principal que recebe o n&#250;mero de movimentos m&#225;ximo que se quer que o puzzle seja resolvido
e o jogo o qual se quer resolver e devolve um Maybe [Movimento] que corresponde aos movimentos que resolvem o jogo.</p><p>Se o n&#250;mero de movimentos for 0 a fun&#231;&#227;o limita-se a verificar se o jogo j&#225; se encontra resolvido.</p><p>Para os outros casos, a fun&#231;&#227;o procura a solu&#231;&#227;o do jogo com recurso &#224; fun&#231;&#227;o auxiliar <code><a href="Tarefa6_2021li1g055.html#v:resolveJogoA" title="Tarefa6_2021li1g055">resolveJogoA</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:resolveJogoA" class="def">resolveJogoA</a> :: Int -&gt; [([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)] -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] <a href="#v:resolveJogoA" class="selflink">#</a></p><div class="doc"><h2>Resolve Jogo Auxiliar</h2><p>A fun&#231;&#227;o <code><a href="Tarefa6_2021li1g055.html#v:resolveJogoA" title="Tarefa6_2021li1g055">resolveJogoA</a></code> recebe o n&#250;mero de movimentos que &#233; poss&#237;vel fazer e uma lista de pares em que o primeiro componente do par
&#233; a lista de movimentos ja feita e a segunda componete &#233; o jogo associado a essa lista de movimentos.</p><p>A fun&#231;&#227;o testa se existe algum par que corresponda a um mapa resolvido, com aux&#237;lio &#224; fun&#231;&#227;o <code>verificaPorta</code> que procura um jogo possivelmente
resolvido. Se encontrar, en&#227;o ir&#225; devolver a lista de movimentos associada, caso contr&#225;rio, a fun&#231;&#227;o &#233; chamada recursivamente com (n-1) movimentos
que faltam executar e com uma lista nova de combina&#231;&#245;es de movimentos resultante da fun&#231;&#227;o <code><a href="Tarefa6_2021li1g055.html#v:corremovimentos" title="Tarefa6_2021li1g055">corremovimentos</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:corremovimentos" class="def">corremovimentos</a> :: [([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)] -&gt; [([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)] <a href="#v:corremovimentos" class="selflink">#</a></p><div class="doc"><h2>Criador de novas combina&#231;&#245;es de movimentos</h2><p>A fun&#231;&#227;o <code><a href="Tarefa6_2021li1g055.html#v:corremovimentos" title="Tarefa6_2021li1g055">corremovimentos</a></code> &#233; uma fun&#231;&#227;o recursiva que recebe a atual lista de pares de movimentos e jogos e devolve uma nova lista com
as novas combina&#231;&#245;es de movimentos e jogos encontrada.</p><p>Para cumprir esse objetivo, a fun&#231;&#227;o cria novos pares de movimentos e jogos para cada par da lista que recebe com aux&#237;lio da fun&#231;&#227;o <code><a href="Tarefa6_2021li1g055.html#v:corremovimentosA" title="Tarefa6_2021li1g055">corremovimentosA</a></code></p></div></div><div class="top"><p class="src"><a id="v:corremovimentosA" class="def">corremovimentosA</a> :: ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>) -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; [([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)] <a href="#v:corremovimentosA" class="selflink">#</a></p><div class="doc"><h2>Auxiliar da fun&#231;&#227;o <code>corrermovimentos</code></h2><p>A fun&#231;&#227;o <code><a href="Tarefa6_2021li1g055.html#v:corremovimentosA" title="Tarefa6_2021li1g055">corremovimentosA</a></code> recebe um par do mesmo formato das fun&#231;&#245;es anteriores e uma lista de movimentos que alteram o jogo presente nesse par. Essa lista de 
movimentos &#233; calculada com a fun&#231;&#227;o <code><a href="Tarefa6_2021li1g055.html#v:verificamovimentos" title="Tarefa6_2021li1g055">verificamovimentos</a></code>.</p><p>Primeiramente a fun&#231;&#227;o teste uma s&#233;rie de condi&#231;&#245;es que otimizam a maneira de como s&#227;o feitas as combina&#231;&#245;es. Se alguma se verificar, ent&#227;o a fun&#231;&#227;o n&#227;o adiciona
esse movimento &#224; lista de movimentos do par: </p><ul><li>Se o &#250;ltimo movimento realizado for AndarEsquerda e o movimento que se quer realizar for AndarDireita;</li><li>Se o &#250;ltimo movimento realizado for AndarDireita e o movimento que se quer realizar for AndarEsquerda;</li><li>Se o &#250;ltimo movimento realizado for InterageCaixa e o movimento que se quer realizar for InterageCaixa;</li><li>Se o &#250;ltimo movimento realizado for Trepar, o jogador estiver virado para Oeste e o movimento que se quer realizar for AndarDireita;</li><li>Se o &#250;ltimo movimento realizado for Trepar, o jogador estiver virado para Este e o movimento que se quer realizar for AndarEsqueda.</li></ul><p>Se o movimento tiver passado pelas anteriores condi&#231;&#245;es ent&#227;o a fun&#231;&#227;o adiciona o mesmo &#224; lista e realiza o movimento no jogo com recurso &#224; fun&#231;&#227;o <code><a href="Tarefa4_2021li1g055.html#v:moveJogador" title="Tarefa4_2021li1g055">moveJogador</a></code> defenida
na Tarefa 4.</p></div></div><div class="top"><p class="src"><a id="v:verificamovimentos" class="def">verificamovimentos</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] <a href="#v:verificamovimentos" class="selflink">#</a></p><div class="doc"><h2>Filtra Movimentos</h2><p>A fun&#231;&#227;o <code><a href="Tarefa6_2021li1g055.html#v:verificamovimentos" title="Tarefa6_2021li1g055">verificamovimentos</a></code> recebe um jogo e a lista de movimentos que se poder&#225; realizar e devolve a lista de movimentos que alteram o jogo dado.</p><p>A fun&#231;&#227;o filtra da lista os movimentos que alteram o jogo com recurso &#224; fun&#231;&#227;o de ordem superior filter.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>