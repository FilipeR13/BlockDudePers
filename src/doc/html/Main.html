<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Main</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Lucas Quintela &lt;a100642@alunos.uminho.pt&gt;;<br />: Jos&#233; Rodrigues &lt;a100692@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Main</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 5 do projeto de LI1 em 2021/22.
== Dificuldades sentidas</p><p>Algumas das dificuldades sentidas ao longo desta tarefa:</p><ul><li>Demoramos algum tempo a descobrir como implementar a fun&#231;&#227;o de mudar de tema no jogo;</li><li>Como dar load das imagens na fun&#231;&#227;o main;</li><li>De vez em quando sentimos alguma dificuldade em perceber como implementar as diferentes fun&#231;&#245;es no Estado de maneira a cumprir os nossos objetivos.</li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Opcoes">Opcoes</a><ul class="subs"><li>= <a href="#v:Jogar">Jogar</a></li><li>| <a href="#v:Sair">Sair</a></li><li>| <a href="#v:Temas">Temas</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Opcoes2">Opcoes2</a><ul class="subs"><li>= <a href="#v:Next">Next</a></li><li>| <a href="#v:Restart">Restart</a></li><li>| <a href="#v:Quit">Quit</a></li><li>| <a href="#v:Resume">Resume</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Theme">Theme</a><ul class="subs"><li>= <a href="#v:Default">Default</a></li><li>| <a href="#v:Minecraft">Minecraft</a></li><li>| <a href="#v:Natal">Natal</a></li><li>| <a href="#v:Inferno">Inferno</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Niveis">Niveis</a><ul class="subs"><li>= <a href="#v:Nivel1">Nivel1</a></li><li>| <a href="#v:Nivel2">Nivel2</a></li><li>| <a href="#v:Nivel3">Nivel3</a></li><li>| <a href="#v:Nivel4">Nivel4</a></li><li>| <a href="#v:Nivel5">Nivel5</a></li><li>| <a href="#v:Nivel6">Nivel6</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Menu">Menu</a><ul class="subs"><li>= <a href="#v:Controlador">Controlador</a> <a href="Main.html#t:Opcoes" title="Main">Opcoes</a></li><li>| <a href="#v:Pausa">Pausa</a> (<a href="Main.html#t:Opcoes2" title="Main">Opcoes2</a>, <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)</li><li>| <a href="#v:Nivel">Nivel</a> <a href="Main.html#t:Niveis" title="Main">Niveis</a></li><li>| <a href="#v:ModoJogo">ModoJogo</a> <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li>| <a href="#v:VenceuNivel">VenceuNivel</a> <a href="Main.html#t:Opcoes2" title="Main">Opcoes2</a></li><li>| <a href="#v:Tema">Tema</a> <a href="Main.html#t:Theme" title="Main">Theme</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Estado">Estado</a> = (<a href="Main.html#t:Menu" title="Main">Menu</a>, Int, [(Int, ([(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, Picture)], (Picture, Picture)))], ([(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, Picture)], (Picture, Picture)), Int, Int, Picture, <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)</li><li class="src short"><a href="#v:transformaJogo">transformaJogo</a> :: <a href="Main.html#t:Estado" title="Main">Estado</a> -&gt; Picture</li><li class="src short"><a href="#v:transformaJogoAux">transformaJogoAux</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; ([(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, Picture)], (Picture, Picture)) -&gt; [Picture]</li><li class="src short"><a href="#v:drawOption">drawOption</a> :: String -&gt; Picture</li><li class="src short"><a href="#v:drawOption2">drawOption2</a> :: String -&gt; Picture</li><li class="src short"><a href="#v:drawOption3">drawOption3</a> :: String -&gt; Picture</li><li class="src short"><a href="#v:drawOption4">drawOption4</a> :: String -&gt; Picture</li><li class="src short"><a href="#v:estadoGlossInicial">estadoGlossInicial</a> :: [(Int, ([(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, Picture)], (Picture, Picture)))] -&gt; Picture -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a></li><li class="src short"><a href="#v:nivel1">nivel1</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:nivel2">nivel2</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:nivel3">nivel3</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:nivel4">nivel4</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:nivel5">nivel5</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:nivel6">nivel6</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:easteregg">easteregg</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></li><li class="src short"><a href="#v:reageEventoGloss">reageEventoGloss</a> :: Event -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a></li><li class="src short"><a href="#v:reageTempoGloss">reageTempoGloss</a> :: Float -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a></li><li class="src short"><a href="#v:fr">fr</a> :: Int</li><li class="src short"><a href="#v:dm">dm</a> :: Display</li><li class="src short"><a href="#v:main">main</a> :: IO ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Opcoes" class="def">Opcoes</a> <a href="#t:Opcoes" class="selflink">#</a></p><div class="doc"><p>Data complementar do Menu Principal</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Jogar" class="def">Jogar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Sair" class="def">Sair</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Temas" class="def">Temas</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Opcoes2" class="def">Opcoes2</a> <a href="#t:Opcoes2" class="selflink">#</a></p><div class="doc"><p>Data complementar do Menu Pausa e Menu VenceuNivel</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Next" class="def">Next</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Restart" class="def">Restart</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Quit" class="def">Quit</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Resume" class="def">Resume</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Theme" class="def">Theme</a> <a href="#t:Theme" class="selflink">#</a></p><div class="doc"><p>Data complementar do Menu Temas </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Default" class="def">Default</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Minecraft" class="def">Minecraft</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Natal" class="def">Natal</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Inferno" class="def">Inferno</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Niveis" class="def">Niveis</a> <a href="#t:Niveis" class="selflink">#</a></p><div class="doc"><p>Data complementar do Menu N&#237;veis</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Nivel1" class="def">Nivel1</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Nivel2" class="def">Nivel2</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Nivel3" class="def">Nivel3</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Nivel4" class="def">Nivel4</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Nivel5" class="def">Nivel5</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Nivel6" class="def">Nivel6</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Menu" class="def">Menu</a> <a href="#t:Menu" class="selflink">#</a></p><div class="doc"><p>Data do Menu Principal</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Controlador" class="def">Controlador</a> <a href="Main.html#t:Opcoes" title="Main">Opcoes</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Pausa" class="def">Pausa</a> (<a href="Main.html#t:Opcoes2" title="Main">Opcoes2</a>, <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Nivel" class="def">Nivel</a> <a href="Main.html#t:Niveis" title="Main">Niveis</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ModoJogo" class="def">ModoJogo</a> <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:VenceuNivel" class="def">VenceuNivel</a> <a href="Main.html#t:Opcoes2" title="Main">Opcoes2</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Tema" class="def">Tema</a> <a href="Main.html#t:Theme" title="Main">Theme</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Estado" class="def">Estado</a> = (<a href="Main.html#t:Menu" title="Main">Menu</a>, Int, [(Int, ([(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, Picture)], (Picture, Picture)))], ([(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, Picture)], (Picture, Picture)), Int, Int, Picture, <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>) <a href="#t:Estado" class="selflink">#</a></p><div class="doc"><h2>Estado</h2><pre>type Estado = (Menu,Int,[(Int,([(Peca,Picture)],(Picture,Picture)))],([(Peca,Picture)],(Picture,Picture)),Int,Int,Picture,Jogo)
</pre><p>Para come&#231;ar temos o type <code><a href="Main.html#t:Estado" title="Main">Estado</a></code>, este type &#233; o conjunto de informa&#231;&#245;es que v&#227;o ser utilizadas ao longo da tarefa.
Significado das variaveis do estado :</p><ul><li>Menu -&gt; O construtor do data <code><a href="Main.html#t:Menu" title="Main">Menu</a></code> a ser utilizado nas fun&#231;&#245;es;</li><li>1&#186; Int -&gt; N&#237;vel que se encontra o jogador            </li><li>Lista -&gt; Lista que cont&#233;m os dados para o desenho do jogo pelo Gloss</li><li>Int -&gt; Tema </li><li>Par -&gt; Ficheiros do Tema para o Gloss</li><li>Lista -&gt; Lista das pictures das pe&#231;as</li><li>Par -&gt; Par que fornece ao Gloss as Pictures das pe&#231;as</li><li>designa a pe&#231;a</li><li>atribui Picture &#225; Pe&#231;a</li><li>Par -&gt; Par que fornece ao Gloss as Pictures do personagem</li><li>Imagem do personagem orientado para Oeste</li><li>Imagem do personagem orientado para Este</li><li>Par -&gt; Pictures do tema atual</li><li>Lista -&gt; Pictures das pe&#231;as do tema escolhido</li><li>Par -&gt; Pictures do personagem do tema escolhido</li><li>2&#186; Int -&gt; Representa o Tema que est&#225; atualmente no jogo;</li><li>3&#186; Int -&gt; Representa o n&#250;mero movimentos que foi executado no n&#237;vel;</li><li>Picture -&gt; &#201; uma estrela que aparece no final de cada n&#237;vel;</li><li>Jogo -&gt; &#201; o mapa do easteregg implementado na Tarefa.</li></ul></div></div><div class="top"><p class="src"><a id="v:transformaJogo" class="def">transformaJogo</a> :: <a href="Main.html#t:Estado" title="Main">Estado</a> -&gt; Picture <a href="#v:transformaJogo" class="selflink">#</a></p><div class="doc"><h2>Desenha Estado</h2><p>A fun&#231;&#227;o <code><a href="Main.html#v:transformaJogo" title="Main">transformaJogo</a></code> &#233; a fun&#231;&#227;o que vai transformar o Estado numa s&#243; Picture (com o aux&#237;lio das fun&#231;&#245;es drawOption's)</p><p>As vari&#225;veis desta fun&#231;&#227;o s&#227;o os v&#225;rios construtores do data <code><a href="Main.html#t:Menu" title="Main">Menu</a></code>:</p><ul><li>Com o construtor <a href="Controlador.html">Controlador</a> , a fun&#231;&#227;o desenha as vari&#225;veis do construtor (Jogar, Tema e Sair) e torna azul o texto da vari&#225;vel que recebeu.</li><li>Com o construtor <a href="Nivel.html">Nivel</a>, a fun&#231;&#227;o vai tamb&#233;m desenhar as varia&#227;veis do construtor (N&#237;vel 1 , N&#237;vel 2,...) e vai tamb&#233;m tornar azul o texto da vari&#225;vel selecionada.</li><li>O construtor <a href="Pausa.html">Pausa</a> tem como vari&#225;vel um par que remete para os datas <code><a href="Main.html#t:Opcoes2" title="Main">Opcoes2</a></code> e <code><a href="Main.html#t:Menu" title="Main">Menu</a></code>. Ou seja, este par vai buscar as vari&#225;veis <a href="Resume.html">Resume</a> e <a href="Quit.html">Quit</a> ao primeiro data e <a href="Jogo.html">Jogo</a> ao segundo. 
O que vai fazer &#233; desenhar um menu de pausa em cada n&#237;vel com as op&#231;&#245;es <a href="Resume.html">Resume</a> e <a href="Quit.html">Quit</a> e vai colorir de azul a op&#231;&#227;o que estiver selecionada.</li><li>Quando a fun&#231;&#227;o recebe o Menu no formato de Tema esta verifica qual &#233; o tema ativo, com recurso ao segundo Int do estado, e desenha um ret&#226;ngulo &#224; volta da op&#231;&#227;o
que corresponde a esse tema para assim o identificar. Para al&#233;m disso, a fun&#231;&#227;o torna azul a op&#231;&#227;o que corresponde ao tipo de Tema recebido no menu.</li><li>Se a fun&#231;&#227;o receber o menu num estado Venceun&#237;vel, esta ir&#225; desenhar um ret&#226;ngulo que cont&#233;m:</li><li>Um texto na parte superior do ret&#226;ngulo que diz &quot;Level Completed&quot;;</li><li>Um certo n&#250;mero de estrelas que varia de uma a tr&#234;s que corresponde &#224; presta&#231;&#227;o do jogador a completar o n&#237;vel. Para descobrir quantas estrelas deve mostrar, a fun&#231;&#227;o
utiliza o terceiro Int, comparando com valores de movimentos pr&#233; escolhidos para cada n&#237;vel. At&#233; um certo n&#250;mero de movimentos, a fun&#231;&#227;o apresenta 3 estrelas. Se passar esse
n&#250;mero mas n&#227;o ultrapassar outro, maior q o primeiro, apresenta apenas duas, por fim, apresenta apenas uma se tiver ultrapassado os &#250;ltimos dois n&#250;meros.</li><li>Por fim, se a fun&#231;&#227;o receber um modo de jogo, esta vai passar o jogo para uma picture com recurso &#224; fun&#231;&#227;o auxiliar <code><a href="Main.html#v:transformaJogoAux" title="Main">transformaJogoAux</a></code> e centra o mapa com recurso &#224;s fun&#231;&#245;es 
<code><a href="Tarefa2_2021li1g055.html#v:ymax" title="Tarefa2_2021li1g055">ymax</a></code> e <code><a href="Tarefa2_2021li1g055.html#v:xmax" title="Tarefa2_2021li1g055">xmax</a></code> defenidas em Tarefas anteriores.</li></ul></div></div><div class="top"><p class="src"><a id="v:transformaJogoAux" class="def">transformaJogoAux</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; ([(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, Picture)], (Picture, Picture)) -&gt; [Picture] <a href="#v:transformaJogoAux" class="selflink">#</a></p><div class="doc"><h3>Transforma Jogo</h3><p>A fun&#231;&#227;o <code><a href="Main.html#v:transformaJogoAux" title="Main">transformaJogoAux</a></code> recebe o mapa, as informa&#231;&#245;es do jogador e as pictures para cada componente do mapa e devolve uma lista de pictures.</p><p>A fun&#231;&#227;o come&#231;a por desenhar o mapa. Esta verifica qual pe&#231;a corresponde &#224; cabe&#231;a da lista e atribui a imagem correspondente, aplicando uma transla&#231;&#227;o com base nas
coordenadas da pe&#231;a em causa. Quando a fun&#231;&#227;o acaba de desenhar o mapa inteiro, esta coloca finalmente o jogador. Para colocar o jogador, a fun&#231;&#227;o divide em alguns casos:
Atribui uma imagem diferente dependente da dire&#231;&#227;o que o jogador se encontra; Verifica se possui uma caixa consigo, caso afirmativo, ir&#225; colocar a imagem da caixa em cima do
jogador tamb&#233;m baseada nas coordenadas que o jogador possui.</p></div></div><div class="top"><p class="src"><a id="v:drawOption" class="def">drawOption</a> :: String -&gt; Picture <a href="#v:drawOption" class="selflink">#</a></p><div class="doc"><h3>DrawOption</h3><p>Esta fun&#231;&#227;o tem como objetivo aplicar um conjunto de modifica&#231;&#245;es a um texto e transforma o numa Picture.</p></div></div><div class="top"><p class="src"><a id="v:drawOption2" class="def">drawOption2</a> :: String -&gt; Picture <a href="#v:drawOption2" class="selflink">#</a></p><div class="doc"><h3>DrawOption2</h3><p>Esta fun&#231;&#227;o tem como objetivo aplicar um conjunto de modifica&#231;&#245;es a um texto e transforma o numa Picture.</p></div></div><div class="top"><p class="src"><a id="v:drawOption3" class="def">drawOption3</a> :: String -&gt; Picture <a href="#v:drawOption3" class="selflink">#</a></p><div class="doc"><h3>DrawOption3</h3><p>Esta fun&#231;&#227;o tem como objetivo aplicar um conjunto de modifica&#231;&#245;es a um texto e transforma o numa Picture.</p></div></div><div class="top"><p class="src"><a id="v:drawOption4" class="def">drawOption4</a> :: String -&gt; Picture <a href="#v:drawOption4" class="selflink">#</a></p><div class="doc"><h3>DrawOption4</h3><p>Esta fun&#231;&#227;o tem como objetivo aplicar um conjunto de modifica&#231;&#245;es a um texto e transforma o numa Picture.</p></div></div><div class="top"><p class="src"><a id="v:estadoGlossInicial" class="def">estadoGlossInicial</a> :: [(Int, ([(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, Picture)], (Picture, Picture)))] -&gt; Picture -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> <a href="#v:estadoGlossInicial" class="selflink">#</a></p><div class="doc"><h2>Estado Inicial</h2><p>A fun&#231;&#227;o <code><a href="Main.html#v:estadoGlossInicial" title="Main">estadoGlossInicial</a></code> &#233; a fun&#231;&#227;o que d&#225; o primeiro Estado que o Gloss recebe. </p><p>Esta fun&#231;&#227;o d&#225; como primeiro estado:</p><ul><li>O menu com Jogar pr&#233;-selecionado;</li><li>Um 0 que &#233; o n&#237;vel inicial, por&#233;m como se encontra no menu, este Int &#233; 0;</li><li>Uma lista, que &#233; a lista de todos os Temas para poderem ser selecionados prosteriormente;</li><li>Um tema inicial, que corresponde ao tema default;</li><li>O n&#250;mero 1, pois o tema inicial corresponde a este n&#250;mero;</li><li>O n&#250;mero 0, que, por causa de ainda estar num menu, o n&#250;mero de movimentos tem de ser nulo;</li><li>A picture da estrela para ser usada nos finais dos n&#237;veis;</li><li>O mapa do Easter Egg para ser usado num momento espec&#237;fico num dos n&#237;veis.</li></ul></div></div><div class="top"><p class="src"><a id="v:nivel1" class="def">nivel1</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:nivel1" class="selflink">#</a></p><div class="doc"><p>N&#237;vel 1 do Jogo</p></div></div><div class="top"><p class="src"><a id="v:nivel2" class="def">nivel2</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:nivel2" class="selflink">#</a></p><div class="doc"><p>N&#237;vel 2 do Jogo</p></div></div><div class="top"><p class="src"><a id="v:nivel3" class="def">nivel3</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:nivel3" class="selflink">#</a></p><div class="doc"><p>N&#237;vel 3 do Jogo</p></div></div><div class="top"><p class="src"><a id="v:nivel4" class="def">nivel4</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:nivel4" class="selflink">#</a></p><div class="doc"><p>N&#237;vel 4 do Jogo</p></div></div><div class="top"><p class="src"><a id="v:nivel5" class="def">nivel5</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:nivel5" class="selflink">#</a></p><div class="doc"><p>N&#237;vel 5 do Jogo</p></div></div><div class="top"><p class="src"><a id="v:nivel6" class="def">nivel6</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:nivel6" class="selflink">#</a></p><div class="doc"><p>N&#237;vel 6 do Jogo</p></div></div><div class="top"><p class="src"><a id="v:easteregg" class="def">easteregg</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> <a href="#v:easteregg" class="selflink">#</a></p><div class="doc"><p>N&#237;vel EasterEgg do Jogo</p></div></div><div class="top"><p class="src"><a id="v:reageEventoGloss" class="def">reageEventoGloss</a> :: Event -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> <a href="#v:reageEventoGloss" class="selflink">#</a></p><div class="doc"><h2>Reage Evento</h2><p>A fun&#231;&#227;o <code><a href="Main.html#v:reageEventoGloss" title="Main">reageEventoGloss</a></code> &#233; a fun&#231;&#227;o que vai permitir jogar o jogo em si, isto &#233;, vai atribuir comandos ao pressionar das teclas.</p><p>Se a fun&#231;&#227;o receber o construtor <a href="Controlador.html">Controlador</a> vai permitir ao jogador viajar entre as op&#231;&#245;es desse construtor. Isto &#233;, vai poder
mudar, no menu inicial, entre as op&#231;&#245;es <a href="Play.html">Play</a>, &quot; Themes&quot; e <a href="Exit.html">Exit</a> e selecionar a que pretender. Se selecionar a op&#231;&#227;o <a href="Play.html">Play</a> a
fun&#231;&#227;o muda o construtor do Estado para &quot;Nivel ..&quot;, ou seja, inicia o menu dos n&#237;veis em que vai ser poss&#237;vel selecionar o n&#237;vel
pretendido. Se selecionar a op&#231;&#227;o <a href="Themes.html">Themes</a> a fun&#231;&#227;o leva o jogador para o menu dos temas, trocando a vari&#225;vel do construtor inicial 
para <a href="Temas.html">Temas</a>. Por fim, se selecionar a opc&#227;o <a href="Sair.html">Sair</a>, o jogo fecha.</p><p>Quando recebe o construtor &quot;Nivel ...&quot; &#233; o que permite escolher qual n&#237;vel jogar. Resumidamente, ao pressionar a tecla
<a href="Enter.html">Enter</a> na op&#231;&#227;o de algum n&#237;vel, o que a fun&#231;&#227;o vai fazer &#233; mudar o construtor do Estado para &quot;Modo Jogo&quot; sendo o argumento do 
construtor o n&#237;vel escolhido.</p><p>Com o construtor <a href="Tema.html">Tema</a> &#233; o que permite selecionar com qual tema se vai jogar. O que a fun&#231;&#227;o faz quando se pressiona <a href="Enter.html">Enter</a> &#233;
mudar o argumento dos temas no Estado para o tema correspondente. Para isso vai procurar o Int referente a cada tema na lista
de todas os temas.</p><p>Se o jogador quando se encontrar em algum n&#237;vel pressionar a tecla &quot;p&quot;, &#233; levado para o menu Pausa em que vai poder escolher as
op&#231;&#245;es <a href="Resume.html">Resume</a> se quiser voltar ao jogo, ou <a href="Quit.html">Quit</a> se quiser voltar para o menu principal. A fun&#231;&#227;o faz isso atrav&#233;s do mesmo 
m&#233;todo descrito em cima, isto &#233;, mudar o construtor do Estado.</p><p>Se a fun&#231;&#227;o receber um Menu da forma VenceuNivel ir&#225; permitir que o jogador troque e selecione entre as op&#231;&#245;es &quot;Next Level&quot;, &quot;Restart Level&quot; e <a href="Quit.html">Quit</a> com exece&#231;&#227;o
do n&#237;vel 6, pois, sendo o &#250;ltimo n&#237;vel, apenas poder&#225; trocar entre as op&#231;&#245;es &quot;Restart Level&quot; e <a href="Quit.html">Quit</a>. Se selecionar a op&#231;&#227;o &quot;Next level&quot;, a fun&#231;&#227;o devolve um ModoJogo
com o n&#237;vel correspondente ao pr&#243;ximo e troca o inteiro identificador do n&#237;vel para o novo. Se selecionar &quot;Restart Level&quot; a fun&#231;&#227;o devolve um ModoJogo com o mesmo n&#237;vel
e n&#227;o altera o n&#237;vel. Por fim, ao selecionar <a href="Quit.html">Quit</a> a fun&#231;&#227;o mandao jogador para o menu principal e torna o Int 0.</p><p>Esta fun&#231;&#227;o deteta um movimento particular no n&#237;vel 3. Se o jogador estiver numa posi&#231;&#227;o espec&#237;fica do mapa e executar um movimento espec&#237;fico, &#233; levado para um mapa
que est&#225; no estado desde o inicio. Para al&#233;m disso, a fun&#231;&#227;o coloca o mapa atual no lugar do easter egg para assim n&#227;o perder o progresso, e troca o Int identificador
de n&#237;vel para 7.
Importante de referir, que a fun&#231;&#227;o est&#225; adaptada especialmente para o easter egg. Assim, se a fun&#231;&#227;o receber o 7 na identifica&#231;&#227;o do n&#237;vel, esta reconhece q n&#227;o deve
adicionar movimentos. Desta maneira, o jogador ao voltar para o n&#237;vel 3 n&#227;o perde pontua&#231;&#227;o por movimentos executados no mapa do easter egg.</p><p>Assim, se receber um Int diferente de 7 no lugar da identifica&#231;&#227;o do n&#237;vel, a fun&#231;&#227;o vai executar o movimento correspondente &#224; tecla pressionada e ir&#225; adicionar um
movimento no Int do estado correspondente se o mapa for modificado com esse movimento.</p><p>Se o jogador estiver em algum n&#237;vel e pressionar a tecla R, o jogo ser&#225; reiniciado. Para identificar que n&#237;vel que deve voltar, ele verifica qual &#233; o n&#250;mero do n&#237;vel
presente no estado.</p><p>Por fim, a fun&#231;&#227;o verifica se chegou na porta, ignorando qualquer evento. Assim, quando um jogador chega na porta, devolve o estado do menu como VenceuNivel. De salientar
que neste momento est&#225; declarado o numero de movimentos executados ao longo do n&#237;vel o que permite posteriormente determinar o n&#250;mero de estrelas correspondentes &#224; performance.</p></div></div><div class="top"><p class="src"><a id="v:reageTempoGloss" class="def">reageTempoGloss</a> :: Float -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> -&gt; <a href="Main.html#t:Estado" title="Main">Estado</a> <a href="#v:reageTempoGloss" class="selflink">#</a></p><div class="doc"><h2>Reage Tempo </h2><p>A fun&#231;&#227;o <code><a href="Main.html#v:reageTempoGloss" title="Main">reageTempoGloss</a></code> reage ao tempo que passa, no entanto n&#227;o &#233; necess&#225;ria para o nosso jogo, pelo que n&#227;o faz nada.</p></div></div><div class="top"><p class="src"><a id="v:fr" class="def">fr</a> :: Int <a href="#v:fr" class="selflink">#</a></p><div class="doc"><h2>Frame Rate</h2><p>A fun&#231;&#227;o <code><a href="Main.html#v:fr" title="Main">fr</a></code> define a frame rate do jogo. Est&#225; defenida como 50. </p></div></div><div class="top"><p class="src"><a id="v:dm" class="def">dm</a> :: Display <a href="#v:dm" class="selflink">#</a></p><div class="doc"><h2>Display</h2><p>A fun&#231;&#227;o <code><a href="Main.html#v:dm" title="Main">dm</a></code> d&#225; a tela em que o jogo ser&#225; mostrado. Foi escolhido executar o jogo em fullscreen.</p></div></div><div class="top"><p class="src"><a id="v:main" class="def">main</a> :: IO () <a href="#v:main" class="selflink">#</a></p><div class="doc"><h2>Main</h2><p>A fun&#231;&#227;o <code><a href="Main.html#v:main" title="Main">main</a></code> &#233; a fun&#231;&#227;o principal que recebe as pictures e as d&#225; &#224; fun&#231;&#227;o <code><a href="Main.html#v:estadoGlossInicial" title="Main">estadoGlossInicial</a></code> para puderem ser usadas no jogo. Tamb&#233;m recebe as fun&#231;&#245;es para
que o jogo possa ser jog&#225;vel.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>